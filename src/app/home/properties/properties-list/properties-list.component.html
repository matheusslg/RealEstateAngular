<app-loading *ngIf="loading"></app-loading>
<div *ngIf="!loading" class="row mg-top20">
  <div *ngFor="let property of propertyList; let index = index" class="col-xl-3 col-lg-4 col-md-6 col-sm-12 mb-4">
    <div *ngIf="property.active" class="card h-100">
      <mdb-carousel class="carousel slide carousel-fade" [animation]="'slide'" [interval]="'0'">
        <mdb-carousel-item class="justify-content-center" *ngFor="let image of property.images; let first = first; let indexImage = index">
          <div class="carousel-item-div view" [style.background]="'url(' + preUrlImages + '/' + image.filePath + ')'">
            <img class="card-img-top d-block w-100" [src]="preUrlImages + '/' + image.filePath" [alt]="image.description">
            <div class="mask waves-light" mdbWavesEffect></div>
          </div>
        </mdb-carousel-item>
      </mdb-carousel>
      <div class="carousel-square">
        <div class="carousel-square-location" *ngFor="let location of property.locations; let last = last; let first = first">
            <a href="javascript:;">{{ location.description }}</a>
        </div>
        <div class="carousel-square-category" *ngFor="let category of property.categories; let last = last; let first = first">
            <a href="javascript:;">{{ category.description }}</a>
        </div>
        <div class="carousel-square-type" *ngFor="let type of property.types; let last = last; let first = first">
            <a href="javascript:;">{{ type.description }}</a>
        </div>
      </div>
      <div class="card-body">
        <a href="javascript:;"><h4 class="card-title text-primary">{{ property.title }}</h4></a>
        <div class="property-indicator">
          <i class="fas fa-dollar-sign"></i>
          <h5 class="mb-0 ml-2 text-warning">{{ property.priceNumber ? (property.priceNumber | currency:'BRL') : property.priceCustom }}</h5>
        </div>
        <div class="property-indicator property-indicator-small mt-2">
          <i class="fas fa-map-marker-alt"></i>
          <h6 class="mb-0 ml-2">{{ property.address ? property.address : property.city }}</h6>
        </div>
        <hr/>
        <p class="card-text mt-2" [innerHTML]="property.description"></p>
      </div>
      <div *ngIf="property.tags.length > 0" class="card-footer">
        <i class="fas fa-tags mr-2 text-primary"></i>
        <ng-container *ngFor="let tag of property.tags; let last = last; let first = first">
          <a href="javascript:;">{{ tag.description }}</a>{{ !last ? ', ' : '' }}
        </ng-container>
      </div>
    </div>
  </div>
</div>
